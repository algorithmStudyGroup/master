<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>개발자 이환수</title>
    <style>
        #order_info{
            color: blue;
        }
    </style>
</head>
<body>
    <h1> 주문메뉴 </h1>
    <div id="info"></div>    <!-- 지시사항 : 배열에 저장된 메뉴가 모두 출력한다 -->
    메뉴선택 <input type="text" id="inputMenu">
    수량 <input type="text" id="inputMenuQuantity">
    <input type="button" id="btn" onclick="order()" value="주문"> <!-- 지시사항:주문클릭 시 주문정보추가-->
    <br>    
    주문정보 <div id="order_info"></div>
    <hr>s
    <table id="orderList">
         <tr>
            <th> 
                         
            </th>
            <th>
                메뉴
            </th>
            <th>
                수량
            </th>
        </tr>
       

    </table>
    <button id="deleteBtn">삭제</button>
</body>
<script>
    var menu = ['자장면','볶음밥','탕수육']

    window.onload = () => {    //자바스크립트에서 페이지가 로드되는 자동으로 실행되는 전역 콜백함수 -> 웹페이지의 모든 요소들이 로드된후 호출
        a = document.getElementById('info')
        for(let i=0; i< menu.length; i++){
            a.innerText += menu[i]+" / ";
        }

        document.getElementById('deleteBtn').addEventListener('click', ()=>{
            vt = document.getElementById('orderList')
            a = document.getElementsByClassName('cc')
            for(let i=a.length-1; i>=0; i--){  // i는 뒤의 tr번호 부터 지워야 하기 때문에
                if(a[i].checked){
                    vt.deleteRow(i+1)
                }     	
            }
        })
    }
    function order(){
        //alert('aaa')
        a = document.getElementById('inputMenu')
        avalue = a.value
        b = document.getElementById('inputMenuQuantity').value
        vt = document.getElementById('orderList')
        for( kk of menu){
            //console.log(kk)
            if(kk==avalue){
                //alert("주문 가능합니다.")
                if(confirm(avalue +"주문할까요 ? "+b)){
                    vlist = document.getElementById("order_info")
                    vlist.innerText=avalue;
                    vt = document.getElementById('orderList')
                    let r1 = vt.insertRow()
                    let c1 = r1.insertCell(0)
                    let c2 = r1.insertCell(1)
                    let c3=r1.insertCell(2);
                    c1.innerHTML="<input type=checkbox class=cc>"
                    c2.innerHTML=avalue
                    c3.innerHTML=b
                }
                return;
            }
        }
        alert("메뉴는 없네요")
        return;
    }
</script>